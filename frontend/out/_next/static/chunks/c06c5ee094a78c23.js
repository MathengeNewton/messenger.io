(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,47518,e=>{"use strict";var s=e.i(43476),r=e.i(71645),a=e.i(60031),t=e.i(4581),n=e.i(70319),l=e.i(85352),i=e.i(27591),o=e.i(37264);let d=r.forwardRef(function({title:e,titleId:s,...a},t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),e?r.createElement("title",{id:s},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))});function c(){let{user:e,login:c}=(0,a.useAuth)(),[m,u]=(0,r.useState)("profile"),[x,g]=(0,r.useState)(!1),[b,p]=(0,r.useState)({username:"",email:""}),[h,f]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,r.useEffect)(()=>{e&&p({username:e.username||"",email:e.email||""})},[e]);let y=async e=>{e.preventDefault();try{g(!0),await t.apiClient.profile.update(b),n.toast.success("Profile updated successfully");let e=(await t.apiClient.profile.get()).data;localStorage.setItem("pcea-user",JSON.stringify(e)),window.location.reload()}catch(e){console.error("Error updating profile:",e),n.toast.error(e.response?.data?.message||"Failed to update profile")}finally{g(!1)}},w=async e=>{if(e.preventDefault(),h.newPassword!==h.confirmPassword)return void n.toast.error("New passwords do not match");if(h.newPassword.length<6)return void n.toast.error("Password must be at least 6 characters");try{g(!0),await t.apiClient.profile.changePassword({currentPassword:h.currentPassword,newPassword:h.newPassword}),n.toast.success("Password changed successfully"),f({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){console.error("Error changing password:",e),n.toast.error(e.response?.data?.message||"Failed to change password")}finally{g(!1)}},j=[{id:"profile",name:"Profile",icon:i.UserIcon},{id:"notifications",name:"Notifications",icon:o.BellIcon},{id:"security",name:"Security",icon:d},{id:"general",name:"General",icon:l.CogIcon}];return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Settings"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your account settings and preferences"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:(0,s.jsx)("nav",{className:"space-y-1",children:j.map(e=>{let r=e.icon;return(0,s.jsxs)("button",{onClick:()=>u(e.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m===e.id?"bg-blue-50 text-blue-900 font-semibold":"text-gray-700 hover:bg-gray-50"}`,children:[(0,s.jsx)(r,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:e.name})]},e.id)})})})}),(0,s.jsx)("div",{className:"lg:col-span-3",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:["profile"===m&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)("form",{onSubmit:y,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Profile Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),(0,s.jsx)("input",{type:"text",value:b.username,onChange:e=>p({...b,username:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",value:b.email,onChange:e=>p({...b,email:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District"}),(0,s.jsx)("input",{type:"text",value:e?.district?.name||"N/A",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"District cannot be changed from settings. Contact an administrator."})]}),(0,s.jsx)("button",{type:"submit",disabled:x,className:"bg-blue-900 text-white px-6 py-2 rounded-md hover:bg-[#1e88b5] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Updating...":"Update Profile"})]})]})})}),"notifications"===m&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Notification Preferences"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Notification settings will be available soon."})]})}),"security"===m&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)("form",{onSubmit:w,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Security Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,s.jsx)("input",{type:"password",required:!0,value:h.currentPassword,onChange:e=>f({...h,currentPassword:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent",placeholder:"Enter current password"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,s.jsx)("input",{type:"password",required:!0,minLength:6,value:h.newPassword,onChange:e=>f({...h,newPassword:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent",placeholder:"Enter new password (min 6 characters)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,s.jsx)("input",{type:"password",required:!0,minLength:6,value:h.confirmPassword,onChange:e=>f({...h,confirmPassword:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent",placeholder:"Confirm new password"})]}),(0,s.jsx)("button",{type:"submit",disabled:x,className:"bg-blue-900 text-white px-6 py-2 rounded-md hover:bg-[#1e88b5] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Changing...":"Change Password"})]})]})})}),"general"===m&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"General Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),(0,s.jsx)("select",{disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600",children:(0,s.jsx)("option",{children:"English"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),(0,s.jsx)("select",{disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600",children:(0,s.jsx)("option",{children:"Africa/Nairobi (EAT)"})})]}),(0,s.jsx)("button",{onClick:()=>n.toast.info("Settings update coming soon"),className:"bg-blue-900 text-white px-6 py-2 rounded-md hover:bg-[#1e88b5] transition-colors",children:"Save Settings"})]})]})})]})})]})]})}e.s(["default",()=>c],47518)}]);