(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72438,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(4581),a=e.i(70319);let l=({formData:e,bibleVerseInput:t,editingSermon:r,onChange:a,onBibleVerseInputChange:l,onAddBibleVerse:n,onRemoveBibleVerse:i,onSubmit:o,onClose:c})=>(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:r?"Edit Sermon":"Create Sermon"}),(0,s.jsxs)("form",{onSubmit:o,children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),(0,s.jsx)("input",{type:"text",name:"title",value:e.title,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sermon Date *"}),(0,s.jsx)("input",{type:"date",name:"sermonDate",value:e.sermonDate,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent",required:!0})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preacher"}),(0,s.jsx)("input",{type:"text",name:"preacher",value:e.preacher,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,s.jsx)("input",{type:"text",name:"location",value:e.location,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes *"}),(0,s.jsx)("textarea",{name:"notes",value:e.notes,onChange:a,rows:"6",className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bible Verses"}),(0,s.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,s.jsx)("input",{type:"text",value:t,onChange:e=>l(e.target.value),placeholder:"e.g., John 3:16",className:"flex-1 p-2 border rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),n())}}),(0,s.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300",children:"Add"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.bibleVerses.map((e,t)=>(0,s.jsxs)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm flex items-center gap-2",children:[e,(0,s.jsx)("button",{type:"button",onClick:()=>i(t),className:"text-blue-600 hover:text-blue-800",children:"×"})]},t))})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stories"}),(0,s.jsx)("textarea",{name:"stories",value:e.stories,onChange:a,rows:"4",className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lessons"}),(0,s.jsx)("textarea",{name:"lessons",value:e.lessons,onChange:a,rows:"4",className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"isPublished",checked:e.isPublished,onChange:a,className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Publish immediately"})]})}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:c,className:"px-4 py-2 border rounded-md hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"bg-blue-900 text-white px-4 py-2 rounded-md hover:bg-[#1e88b5]",children:"Save"})]})]})]})}),n=({sermon:e,onClose:t})=>(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-2",children:e.title}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[e.preacher&&(0,s.jsxs)("p",{children:["Preacher: ",e.preacher]}),e.location&&(0,s.jsxs)("p",{children:["Location: ",e.location]}),e.sermonDate&&(0,s.jsxs)("p",{children:["Date: ",new Date(e.sermonDate).toLocaleDateString()]})]})]}),(0,s.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),e.bibleVerses&&e.bibleVerses.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Bible Verses:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.bibleVerses.map((e,t)=>(0,s.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:e},t))})]}),e.notes&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Notes:"}),(0,s.jsx)("div",{className:"text-gray-700 whitespace-pre-wrap",children:e.notes})]}),e.stories&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Stories:"}),(0,s.jsx)("div",{className:"text-gray-700 whitespace-pre-wrap",children:e.stories})]}),e.lessons&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Lessons:"}),(0,s.jsx)("div",{className:"text-gray-700 whitespace-pre-wrap",children:e.lessons})]}),(0,s.jsx)("div",{className:"flex justify-end mt-6",children:(0,s.jsx)("button",{onClick:t,className:"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300",children:"Close"})})]})});e.s(["default",0,()=>{let[e,i]=(0,t.useState)([]),[o,c]=(0,t.useState)(!0),[d,m]=(0,t.useState)(!1),[x,u]=(0,t.useState)(!1),[h,b]=(0,t.useState)(null),[p,g]=(0,t.useState)(null),[f,y]=(0,t.useState)({search:"",preacher:"",published:"",dateFrom:"",dateTo:""}),[j,N]=(0,t.useState)({title:"",notes:"",bibleVerses:[],stories:"",lessons:"",sermonDate:"",preacher:"",location:"",isPublished:!1}),[v,w]=(0,t.useState)("");(0,t.useEffect)(()=>{C()},[f]);let C=async()=>{try{c(!0);let e={};f.search&&(e.search=f.search),f.preacher&&(e.preacher=f.preacher),""!==f.published&&(e.isPublished="true"===f.published),f.dateFrom&&(e.dateFrom=f.dateFrom),f.dateTo&&(e.dateTo=f.dateTo);let s=await r.apiClient.sermons.getAll(e);i(s.data||[])}catch(e){console.error("Error loading sermons:",e),a.toast.error("Failed to load sermons")}finally{c(!1)}},S=async e=>{if(confirm("Are you sure you want to delete this sermon?"))try{await r.apiClient.sermons.delete(e),a.toast.success("Sermon deleted successfully"),C()}catch(e){console.error("Error deleting sermon:",e),a.toast.error("Failed to delete sermon")}},k=async e=>{try{await r.apiClient.sermons.publish(e),a.toast.success("Sermon published successfully"),C()}catch(e){console.error("Error publishing sermon:",e),a.toast.error("Failed to publish sermon")}},D=async e=>{try{await r.apiClient.sermons.unpublish(e),a.toast.success("Sermon unpublished successfully"),C()}catch(e){console.error("Error unpublishing sermon:",e),a.toast.error("Failed to unpublish sermon")}},V=async e=>{if(e.preventDefault(),!j.title||!j.sermonDate)return void a.toast.error("Title and sermon date are required");try{let e={...j,sermonDate:j.sermonDate};h?(await r.apiClient.sermons.update(h.id,e),a.toast.success("Sermon updated successfully")):(await r.apiClient.sermons.create(e),a.toast.success("Sermon created successfully")),m(!1),C()}catch(e){console.error("Error saving sermon:",e),a.toast.error(e.response?.data?.message||"Failed to save sermon")}},P=e=>{y({...f,[e.target.name]:e.target.value})},T=[...new Set(e.map(e=>e.preacher).filter(Boolean))];return o?(0,s.jsx)("div",{className:"w-full space-y-8 bg-gray-50 min-h-screen p-6 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-gray-600",children:"Loading sermons..."})}):(0,s.jsxs)("div",{className:"w-full space-y-8 bg-gray-50 min-h-screen p-6",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Sermons Management"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage sermons, notes, bible verses, stories, and lessons"})]}),(0,s.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,s.jsx)("input",{type:"text",name:"search",value:f.search,onChange:P,placeholder:"Search by title...",className:"px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"}),(0,s.jsxs)("select",{name:"preacher",value:f.preacher,onChange:P,className:"px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"All Preachers"}),T.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsxs)("select",{name:"published",value:f.published,onChange:P,className:"px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"All Status"}),(0,s.jsx)("option",{value:"true",children:"Published"}),(0,s.jsx)("option",{value:"false",children:"Unpublished"})]}),(0,s.jsx)("input",{type:"date",name:"dateFrom",value:f.dateFrom,onChange:P,placeholder:"From Date",className:"px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"}),(0,s.jsx)("input",{type:"date",name:"dateTo",value:f.dateTo,onChange:P,placeholder:"To Date",className:"px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]})}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Sermons List"}),(0,s.jsx)("button",{onClick:()=>{b(null),N({title:"",notes:"",bibleVerses:[],stories:"",lessons:"",sermonDate:"",preacher:"",location:"",isPublished:!1}),w(""),m(!0)},className:"bg-blue-900 text-white px-4 py-2 rounded-md hover:bg-[#1e88b5] transition-colors",children:"Create Sermon"})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preacher"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bible Verses"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No sermons found."})}):e.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.title}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.preacher||"—"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.sermonDate?new Date(e.sermonDate).toLocaleDateString():"—"}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.bibleVerses?.slice(0,2).map((e,t)=>(0,s.jsx)("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:e},t)),e.bibleVerses?.length>2&&(0,s.jsxs)("span",{className:"px-2 py-1 text-xs text-gray-500",children:["+",e.bibleVerses.length-2," more"]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.isPublished?(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Published"}):(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"Draft"})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,s.jsx)("button",{onClick:()=>{g(e),u(!0)},className:"text-blue-600 hover:text-blue-900",children:"View"}),(0,s.jsx)("button",{onClick:()=>{b(e),N({title:e.title||"",notes:e.notes||"",bibleVerses:e.bibleVerses||[],stories:e.stories||"",lessons:e.lessons||"",sermonDate:e.sermonDate?e.sermonDate.split("T")[0]:"",preacher:e.preacher||"",location:e.location||"",isPublished:e.isPublished||!1}),w(""),m(!0)},className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),e.isPublished?(0,s.jsx)("button",{onClick:()=>D(e.id),className:"text-yellow-600 hover:text-yellow-900",children:"Unpublish"}):(0,s.jsx)("button",{onClick:()=>k(e.id),className:"text-green-600 hover:text-green-900",children:"Publish"}),(0,s.jsx)("button",{onClick:()=>S(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})]}),d&&(0,s.jsx)(l,{formData:j,bibleVerseInput:v,editingSermon:h,onChange:e=>{let{name:s,value:t,type:r,checked:a}=e.target;N({...j,[s]:"checkbox"===r?a:t})},onBibleVerseInputChange:w,onAddBibleVerse:()=>{v.trim()&&(N({...j,bibleVerses:[...j.bibleVerses,v.trim()]}),w(""))},onRemoveBibleVerse:e=>{N({...j,bibleVerses:j.bibleVerses.filter((s,t)=>t!==e)})},onSubmit:V,onClose:()=>m(!1)}),x&&p&&(0,s.jsx)(n,{sermon:p,onClose:()=>{u(!1),g(null)}})]})}])}]);