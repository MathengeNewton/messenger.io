(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66486,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(18566),l=e.i(4581),a=e.i(70319);e.s(["default",0,()=>{let e=(0,r.useRouter)(),[n,i]=(0,t.useState)(!0),[d,c]=(0,t.useState)({totalMembers:0,totalDistricts:0,totalSermons:0,publishedSermons:0,totalAnnouncements:0,activeAnnouncements:0}),[o,x]=(0,t.useState)([]),[m,h]=(0,t.useState)([]);(0,t.useEffect)(()=>{b()},[]);let b=async()=>{try{i(!0);let e=(await l.apiClient.districts.getAll()).data||[],s=e.length,t=e.reduce((e,s)=>e+(s.memberCount||0),0),r=(await l.apiClient.sermons.getAll()).data||[],a=r.length,n=r.filter(e=>e.isPublished).length,d=r.sort((e,s)=>new Date(s.createdAt)-new Date(e.createdAt)).slice(0,5),o=(await l.apiClient.announcements.getActive()).data||[],m=(await l.apiClient.announcements.getAll()).data||[],b=o.slice(0,5);c({totalMembers:t,totalDistricts:s,totalSermons:a,publishedSermons:n,totalAnnouncements:m.length,activeAnnouncements:o.length,upcomingEvents:0,tithesThisMonth:"KES 0"}),x(d),h(b)}catch(e){console.error("Error loading dashboard data:",e),a.toast.error("Failed to load dashboard data")}finally{i(!1)}};return n?(0,s.jsx)("div",{className:"w-full lg:p-2 space-y-8 bg-gray-50 min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-gray-600",children:"Loading dashboard..."})}):(0,s.jsxs)("div",{className:"w-full lg:p-2 space-y-8 bg-gray-50 min-h-screen",children:[(0,s.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"PCEA Church Admin Dashboard"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Welcome back! Here's what's happening."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>e.push("/admin/sermons"),className:"bg-blue-900 text-white px-4 py-2 rounded-md hover:bg-[#1e88b5] transition-colors text-sm",children:"Create Sermon"}),(0,s.jsx)("button",{onClick:()=>e.push("/admin/announcements"),className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Create Announcement"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[(0,s.jsx)("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Members"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.totalMembers.toLocaleString()})]}),(0,s.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-[#0D47A1]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H9v-1a4 4 0 014-4h4a4 4 0 014 4v1z"})})})]})}),(0,s.jsx)("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Districts"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.totalDistricts})]}),(0,s.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h-4m-6 0H5"})})})]})}),(0,s.jsx)("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Sermons"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[d.publishedSermons,"/",d.totalSermons]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Published/Total"})]}),(0,s.jsx)("div",{className:"p-3 bg-purple-100 rounded-full",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),(0,s.jsx)("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Announcements"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[d.activeAnnouncements,"/",d.totalAnnouncements]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Active/Total"})]}),(0,s.jsx)("div",{className:"p-3 bg-yellow-100 rounded-full",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-5 border-b border-gray-200 flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Sermons"}),(0,s.jsx)("button",{onClick:()=>e.push("/admin/sermons"),className:"text-sm text-blue-900 hover:text-blue-700",children:"View All →"})]}),(0,s.jsx)("div",{className:"p-5",children:0===o.length?(0,s.jsx)("p",{className:"text-gray-500 text-sm text-center py-4",children:"No sermons yet. Create your first sermon!"}):o.map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-start py-3 border-b border-gray-100 last:border-0",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[e.preacher&&(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.preacher}),e.sermonDate&&(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["• ",new Date(e.sermonDate).toLocaleDateString()]})]}),e.bibleVerses&&e.bibleVerses.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.bibleVerses.slice(0,2).map((e,t)=>(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded",children:e},t))})]}),(0,s.jsx)("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${e.isPublished?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.isPublished?"Published":"Draft"})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-5 border-b border-gray-200 flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Announcements"}),(0,s.jsx)("button",{onClick:()=>e.push("/admin/announcements"),className:"text-sm text-blue-900 hover:text-blue-700",children:"View All →"})]}),(0,s.jsx)("div",{className:"p-5",children:0===m.length?(0,s.jsx)("p",{className:"text-gray-500 text-sm text-center py-4",children:"No active announcements. Create one now!"}):m.map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-start py-3 border-b border-gray-100 last:border-0",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,s.jsx)("span",{className:`px-2 py-0.5 text-xs rounded ${"high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:e.priority})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500 line-clamp-2",children:e.content}),e.publishedAt&&(0,s.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Published:"," ",new Date(e.publishedAt).toLocaleDateString()]})]}),e.isMobileAppVisible&&(0,s.jsx)("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded ml-2",children:"Mobile"})]},e.id))})]})]})]})}])}]);