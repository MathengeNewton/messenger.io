(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11455,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(4581),a=e.i(70319),n=e.i(51617);let l=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}),i=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}),o=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});var c=e.i(27217);let d=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}),u={worship:"Worship",meeting:"Meeting",fellowship:"Fellowship",outreach:"Outreach",training:"Training",conference:"Conference",other:"Other"},m={draft:"Draft",published:"Published",cancelled:"Cancelled",completed:"Completed"};function x(){let[e,x]=(0,s.useState)([]),[g,b]=(0,s.useState)(!0),[h,p]=(0,s.useState)(!1),[f,v]=(0,s.useState)(null),[y,j]=(0,s.useState)({title:"",description:"",type:"other",startDate:"",endDate:"",location:"",status:"draft",contactPerson:"",contactPhone:"",contactEmail:"",maxAttendees:"",requiresRegistration:!1,isMobileAppVisible:!1});(0,s.useEffect)(()=>{w()},[]);let w=async()=>{try{b(!0);let e=await r.apiClient.events.getAll();x(e.data||[])}catch(e){console.error("Error loading events:",e),a.toast.error("Failed to load events")}finally{b(!1)}},N=()=>{v(null),j({title:"",description:"",type:"other",startDate:"",endDate:"",location:"",status:"draft",contactPerson:"",contactPhone:"",contactEmail:"",maxAttendees:"",requiresRegistration:!1,isMobileAppVisible:!1}),p(!0)},C=async e=>{e.preventDefault();try{let e={...y,maxAttendees:y.maxAttendees?parseInt(y.maxAttendees):void 0,startDate:new Date(y.startDate).toISOString(),endDate:new Date(y.endDate).toISOString()};f?(await r.apiClient.events.update(f.id,e),a.toast.success("Event updated successfully")):(await r.apiClient.events.create(e),a.toast.success("Event created successfully")),p(!1),w()}catch(e){console.error("Error saving event:",e),a.toast.error(e.response?.data?.message||"Failed to save event")}},k=async e=>{if(confirm("Are you sure you want to delete this event?"))try{await r.apiClient.events.delete(e),a.toast.success("Event deleted successfully"),w()}catch(e){console.error("Error deleting event:",e),a.toast.error("Failed to delete event")}},E=async e=>{try{await r.apiClient.events.publish(e),a.toast.success("Event published successfully"),w()}catch(e){console.error("Error publishing event:",e),a.toast.error("Failed to publish event")}},D=async e=>{if(confirm("Are you sure you want to cancel this event?"))try{await r.apiClient.events.cancel(e),a.toast.success("Event cancelled successfully"),w()}catch(e){console.error("Error cancelling event:",e),a.toast.error("Failed to cancel event")}};return g?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"text-gray-600",children:"Loading events..."})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Events Management"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage church events and activities"})]}),(0,t.jsxs)("button",{onClick:N,className:"bg-blue-900 text-white px-4 py-2 rounded-md hover:bg-[#1e88b5] transition-colors flex items-center gap-2",children:[(0,t.jsx)(l,{className:"h-5 w-5"}),"Create Event"]})]}),0===e.length?(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[(0,t.jsx)(n.CalendarIcon,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Events Yet"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Create your first event to get started managing church activities."}),(0,t.jsxs)("button",{onClick:N,className:"bg-blue-900 text-white px-6 py-2 rounded-md hover:bg-[#1e88b5] transition-colors inline-flex items-center gap-2",children:[(0,t.jsx)(l,{className:"h-5 w-5"}),"Create Your First Event"]})]}):(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-start justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,t.jsx)("span",{className:`px-2 py-0.5 text-xs rounded ${"published"===e.status?"bg-green-100 text-green-800":"cancelled"===e.status?"bg-red-100 text-red-800":"completed"===e.status?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:m[e.status]}),(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded",children:u[e.type]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["ðŸ“… ",new Date(e.startDate).toLocaleString()]}),e.location&&(0,t.jsxs)("span",{children:["ðŸ“ ",e.location]}),e.maxAttendees&&(0,t.jsxs)("span",{children:["ðŸ‘¥ Max: ",e.maxAttendees]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:["draft"===e.status&&(0,t.jsx)("button",{onClick:()=>E(e.id),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Publish",children:(0,t.jsx)(d,{className:"h-5 w-5"})}),"published"===e.status&&(0,t.jsx)("button",{onClick:()=>D(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Cancel",children:(0,t.jsx)(c.XMarkIcon,{className:"h-5 w-5"})}),(0,t.jsx)("button",{onClick:()=>{v(e),j({title:e.title||"",description:e.description||"",type:e.type||"other",startDate:e.startDate?new Date(e.startDate).toISOString().slice(0,16):"",endDate:e.endDate?new Date(e.endDate).toISOString().slice(0,16):"",location:e.location||"",status:e.status||"draft",contactPerson:e.contactPerson||"",contactPhone:e.contactPhone||"",contactEmail:e.contactEmail||"",maxAttendees:e.maxAttendees?.toString()||"",requiresRegistration:e.requiresRegistration||!1,isMobileAppVisible:e.isMobileAppVisible||!1}),p(!0)},className:"p-2 text-gray-600 hover:text-blue-900 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:(0,t.jsx)(i,{className:"h-5 w-5"})}),(0,t.jsx)("button",{onClick:()=>k(e.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:(0,t.jsx)(o,{className:"h-5 w-5"})})]})]},e.id))})})}),h&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:f?"Edit Event":"Create Event"}),(0,t.jsx)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)(c.XMarkIcon,{className:"h-6 w-6"})})]}),(0,t.jsxs)("form",{onSubmit:C,className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),(0,t.jsx)("input",{type:"text",required:!0,value:y.title,onChange:e=>j({...y,title:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,t.jsx)("textarea",{required:!0,rows:4,value:y.description,onChange:e=>j({...y,description:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,t.jsx)("select",{value:y.type,onChange:e=>j({...y,type:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent",children:Object.entries(u).map(([e,s])=>(0,t.jsx)("option",{value:e,children:s},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,t.jsx)("select",{value:y.status,onChange:e=>j({...y,status:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent",children:Object.entries(m).map(([e,s])=>(0,t.jsx)("option",{value:e,children:s},e))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date & Time *"}),(0,t.jsx)("input",{type:"datetime-local",required:!0,value:y.startDate,onChange:e=>j({...y,startDate:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date & Time *"}),(0,t.jsx)("input",{type:"datetime-local",required:!0,value:y.endDate,onChange:e=>j({...y,endDate:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,t.jsx)("input",{type:"text",value:y.location,onChange:e=>j({...y,location:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),(0,t.jsx)("input",{type:"text",value:y.contactPerson,onChange:e=>j({...y,contactPerson:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),(0,t.jsx)("input",{type:"tel",value:y.contactPhone,onChange:e=>j({...y,contactPhone:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),(0,t.jsx)("input",{type:"email",value:y.contactEmail,onChange:e=>j({...y,contactEmail:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Attendees"}),(0,t.jsx)("input",{type:"number",min:"1",value:y.maxAttendees,onChange:e=>j({...y,maxAttendees:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-900 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:y.requiresRegistration,onChange:e=>j({...y,requiresRegistration:e.target.checked}),className:"rounded border-gray-300 text-blue-900 focus:ring-blue-900"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Requires Registration"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:y.isMobileAppVisible,onChange:e=>j({...y,isMobileAppVisible:e.target.checked}),className:"rounded border-gray-300 text-blue-900 focus:ring-blue-900"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Visible on Mobile App"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-900 text-white rounded-md hover:bg-[#1e88b5] transition-colors",children:f?"Update Event":"Create Event"})]})]})]})})]})}e.s(["default",()=>x],11455)}]);